{{define "folder_sidebar"}}
<aside class="sidebar">
    <div class="sidebar-header">
        <a href="/" class="wiki-title">Daniel's Wiki</a>
    </div>
    <div class="user-info">
        <span>Welcome, {{ .User.Name }}</span>
        <a href="/logout" class="logout-btn">Logout</a>
    </div>
    <nav class="sidebar-nav">
        <ul class="folder-tree">
            <li class="tree-item">
                <a href="/" class="tree-link">
                    <i class="fas fa-home"></i> Home
                </a>
            </li>
            {{range .FolderTree}}
            <li class="tree-item {{if .HasChildren}}has-children{{end}}" data-path="{{.Path}}" data-type="folder">
                {{if .HasChildren}}
                <span class="expand-icon"><i class="fas fa-caret-right"></i></span>
                {{end}}
                <a href="/category/{{.Path}}" class="tree-link {{if eq $.FolderPath .Path}}active{{end}}">
                    <i class="fas fa-folder{{if eq $.FolderPath .Path}}-open{{end}}"></i> {{.Name}}
                </a>
                {{if .HasChildren}}
                <ul class="subtree not-loaded"></ul>
                {{end}}
            </li>
            {{end}}
        </ul>
    </nav>
    <div class="sidebar-footer">
        <p>&copy; 2024 Daniel's Wiki</p>
    </div>
</aside>
{{end}} 